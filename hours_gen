'''
Separated from main for clarity and versatility. Only holds generate()
'''
def generate(filename):
	'''
	Creates list of dictionaries 'staff' that holds all relevant information in the input file, and exports it into a new module.
	'''
	if filename.split('.')[1] != "csv" or not os.path.isfile(filename):
		return
	out = []
	keys = ['week day','start','end','skills']
	with open(filename) as file:
		for line in file:
			contents = line.split(' ')
			contents = [i.split(',') for i in contents]
			if len(contents) == 1:
				return
			try:
				out.append({contents[0] = {i:j for i in keys for j in contents[1:]}})
			except:
				print ('Input file contents in wrong format.')
				return
	
	days = ['Thursday','Friday','Saturday','Sunday','Monday','Tuesday','Wednesday']
	out = {i:j for i in days for j in out if j['week day'] == i}
	
	with open ('hours_dir.py','w') as file:
		file.write(out)
	return out
